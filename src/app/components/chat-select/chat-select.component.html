<main class="chat-select container">
  <div class="row">
    <div class="col-12 col-6-tablet push-3-tablet text-center heading">
      <h1 class="font-100">Chat selection</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-12 col-6-tablet push-3-tablet col-4-desktop push-4-desktop">
      <form class="form">
        <div class="form-group">
          <label for="name">Name of new chat</label>
          <input #name type="text" class="form-control" id="name" name="name" [(ngModel)]="chat.name" required>
          <button type="button" id="create" class="button button-primary block signup" (click)="createChat(name.value)">
            Create {{name.value ? 'chat "' + name.value + '"' : 'a new chat'}}
          </button>
        </div>


        <div class="form-group">
          <label for="id">Select a chat</label>
          <select #id class="form-control" id="id" name="id" [(ngModel)]="chat" required>
            <option [value]="null" disabled>Select a chat</option>
            <option *ngFor="let c of chats$ | async" [ngValue]="c">{{c.name}}</option>
          </select>
        </div>

        <button type="button" id="select" class="button button-primary block signup" (click)="selectChat(chat)">
          Join chat {{chat.name}}
        </button>
      </form>
      <ul>
        <li *ngFor="let m of messages">{{m}}</li>
      </ul>
    </div>
  </div>
</main>
